<html>

<head>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="http://www.parsecdn.com/js/parse-1.2.18.min.js"></script>

</head>

<body>
Simulate data
<script>

Parse.initialize("bYeTkvdAImnMHatlxgJLqJ6iE63ByAHSzEZJsFqx",  "h8tmQFXYGTFvtH97jG1cn3VSnCpzfY2yVvFACmdU");



//parse add


var TripObject = Parse.Object.extend("Trips");
var tripObject = new TripObject();
var tripID = null;

tripObject.set(
  {
        "average_mpg": 21,
        "business": true,
        "distance_m": 4777.44444444467,
        "end_location": "Test Loca",
        "end_time": 1398041460124,
        "fuel_cost_usd": 2.344,
        "start_location": "Start Location",
        "start_time": 1398038541600
    }
  );


 
tripObject.save(null, {
  success: function(tripObject) {
    // Execute any logic that should take place after the object is saved.
    alert('New object created with objectId: ' + tripObject.id);
    console.log(tripObject.id.toString());

      //post to webhook
      $.ajax({
      type: 'POST',
      url: '/webhook/',
      data: JSON.stringify (

      /* trip
      {
            "id": "1c048d25b875",
            "user": {
              "id": "6sQPMSEW71FQ3H"
            },
            "type": "trip:finished",
            "created_at": 1383448450201,
            "time_zone": "America/Los_Angeles",
            "location": {
              "lat": 37.757076,
              "lon": -122.448120,
              "accuracy_m": 10
            },
            "vehicle": {
                  
                  "uri": "https://api.automatic.com/v1/vehicles/529e5772e4b00a2ddb562f1f",
                  "id": "529e5772e4b00a2ddb562f1f",
                  "year": 2001,
                  "make": "Acura",
                  "model": "MDX",
                  "color": "#d15fed",
                  "display_name": "My Speed Demon"
                   
            },
            "trip": {
                
                
                  "uri": "https://api.automatic.com/v1/trips/524da549e4b08d1af17f6dca",
                  "id": "524da549e4b08d1af17f6dca",
                  "user": {
                    "id": "6sQPMSEW71FQ3H"
                  },
                  "vehicle": {
                    "uri": "https://api.automatic.com/v1/vehicles/529e5772e4b00a2ddb562f1f",
                    "id": "529e5772e4b00a2ddb562f1f",
                    "year": 2001,
                    "make": "Acura",
                    "model": "MDX",
                    "color": "#d15fed",
                    "display_name": "My Speed Demon"
                  },
                  "start_location": {
                    "name": "Ashbury St, SF, CA",
                    "display_name": "Home",
                    "lat": 37.7692903,
                    "lon": -122.4465469,
                    "accuracy_m": 5
                  },
                  "start_time": 1383448450201,
                  "start_time_zone": "America/Los_Angeles",
                  "end_location": {
                    "name": "5th St, SF, CA",
                    "display_name": "Work",
                    "lat": 37.78270046281092,
                    "lon": -122.4064556183999,
                    "accuracy_m": 97.88124084472656
                  },
                  "end_time": 1383449950201,
                  "end_time_zone": "America/Los_Angeles",
                  "path": "uioeFxycjVxDMvAGBjATlJXrLaIZHvCFhCHpCaI^i@@",
                  "distance_m": 6573.416666666661,
                  "hard_accels": 0,
                  "hard_brakes": 1,
                  "duration_over_80_s": 0,
                  "duration_over_75_s": 2,
                  "duration_over_70_s": 3,
                  "fuel_cost_usd": 1.0428111627932486,
                  "fuel_volume_gal": 0.2465857561582522,
                  "average_mpg": 16.56434586845349
                
            }
          }*/

        {
              "objectId": tripObject.id.toString(),
              "business": true
          }


        ),
      success: function(data) { alert('data: ' + data); },
      contentType: "application/json",
      dataType: 'json'
      });

  },
  error: function(tripObject, error) {
    // Execute any logic that should take place if the save fails.
    // error is a Parse.Error with an error code and description.
    alert('Failed to create new object, with error code: ' + error.description);
  }
});




</script>

</body>
</html>
